<div class="product-container p-3 rounded shadow-lg">
  <div class="image-container">
    <img [src]="producto().imagen || 'https://placehold.co/600x400?text=No+Image'" alt="Product"
         class="img-fluid rounded product-image">
  </div>

  <!-- Producto Detalles -->

  <div class="details-container col-md-6">
    <h2 class="mb-3 fw-bold">{{ producto().nombre }}</h2>
    <p class="mb-3">
      <span class="text-muted">Vendido por : </span>
      <button matTooltip="RUC: {{producto().ruc}}"
              matTooltipPosition="below"
              matTooltipShowDelay="250" id="vetUsername" href="#">
        {{ producto().username.toUpperCase() }}
      </button>
    </p>
    <div class="mb-3">
      <span class="h4 me-2">S/ {{ producto().precio }}</span>
    </div>
    <div class="mb-3">
      <i class="bi bi-star-fill text-warning"></i>
      <i class="bi bi-star-fill text-warning"></i>
      <i class="bi bi-star-fill text-warning"></i>
      <i class="bi bi-star-fill text-warning"></i>
      <i class="bi bi-star-half text-warning"></i>
      <span class="ms-2">4.5 (120 reviews)</span>
    </div>
    <p class="mb-4">{{ producto().descripcion }}</p>
    <p class="text-muted">Stock disponible : {{ producto().stock }}</p>
    <div class="mb-4">
      <label for="quantity" class="form-label">Cantidad : </label>
      <input type="number" class="form-control" id="quantity" #inputCantidad value="1" min="1" style="width: 80px;">
    </div>

    @if (rol === 'CLIENTE') {
      <button class="btn btn-primary btn-lg mb-3 me-2" (click)="agregarAlCarrito(+inputCantidad.value)">
        <i class="bi bi-cart-plus"></i> Añadir al Carrito
      </button>
    } @else if (rol === null || rol === 'VETERINARIO' || rol==='AMINISTRADOR' || rol ==='') {
      <div matTooltip="Inicia Sesion como cliente para Agregar Al carrito" matTooltipPosition="after" style="display: flex; width: max-content">
        <button mat-raised-button class="btn btn-primary btn-lg mb-3 me-2" disabled>
          <i class="bi bi-cart-plus"></i> Añadir al Carrito
        </button>
      </div>
    }

    <button mat-raised-button (click)="retroceder()" class="btn btn-outline-secondary btn-lg mb-3">
      <i class="bi bi-arrow-90deg-left"></i> Regresar
    </button>
  </div>
</div>
