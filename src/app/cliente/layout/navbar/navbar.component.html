<div class="d-flex vh-100">

  <!-- Sidebar -->
  <aside class="d-flex flex-column p-3 text-white" [ngClass]="sidebarClass()">
    <!-- Título sin enlace -->
    <div class="d-flex align-items-center mb-3 text-white">
      <i class="bi bi-heart-pulse fs-3 me-2"></i>
      <span class="fs-4 fw-bold">VetMarket</span>
    </div>

    <hr>

    <ul class="nav nav-pills flex-column mb-auto">
      <!-- No logueado -->
      <ng-container *ngIf="!rol">

      </ng-container>

      <!-- Cliente -->
      <ng-container *ngIf="rol==='CLIENTE'">
        <li class="nav-item"><a routerLink="/mismascotas" class="nav-link text-white">Mis Mascotas</a></li>
        <li class="nav-item"><a routerLink="/ordenCompra" class="nav-link text-white">Mis Compras</a></li>
        <li class="nav-item"><a routerLink="/carrito" class="nav-link text-white">Carrito</a></li>
      </ng-container>

      <!-- Veterinario -->
      <ng-container *ngIf="rol==='VETERINARIO'">
        <li class="nav-item"><a routerLink="/misproductos" class="nav-link text-white">Mis Productos</a></li>
        <li class="nav-item"><a routerLink="/misservicios" class="nav-link text-white">Mis Servicios</a></li>
        <li class="nav-item"><a routerLink="/misventas" class="nav-link text-white">Mis Ventas</a></li>
      </ng-container>

      <!-- Admin -->
      <ng-container *ngIf="rol==='ADMIN'">
        <li class="nav-item"><a routerLink="/productos" class="nav-link text-white">Productos</a></li>
        <li class="nav-item"><a routerLink="/servicios" class="nav-link text-white">Servicios</a></li>
        <li class="nav-item"><a routerLink="/mascotas" class="nav-link text-white">Mascotas</a></li>
        <li class="nav-item"><a routerLink="/usuarios" class="nav-link text-white">Usuarios</a></li>
        <li class="nav-item"><a routerLink="/ordenes" class="nav-link text-white">Órdenes de compra</a></li>
      </ng-container>
    </ul>

    <hr>

    <div *ngIf="!rol">
      <button routerLink="/login" class="btn btn-outline-light w-100">Iniciar Sesión</button>
    </div>
    <div *ngIf="rol">
      <button (click)="logout()" class="btn btn-outline-light w-100">Cerrar Sesión</button>
    </div>
  </aside>


  <!-- Main content -->
  <div class="flex-grow-1 d-flex flex-column">
    <nav class="navbar navbar-expand-lg" [ngClass]="navbarClass()" style="padding: 1rem 0;">
      <div class="container-fluid d-flex justify-content-center">

        <!-- Enlaces centrados tipo tarjeta -->
        <a routerLink="/producto" 
          class="text-white fw-bold text-uppercase mx-4 px-4 py-2 border border-white rounded text-center"
          style="font-size: 1.2rem; text-decoration: none; transition: all 0.2s;"
          (mouseenter)="hoverLink($event)" (mouseleave)="leaveLink($event)">
          PRODUCTOS
        </a>

        <a routerLink="/servicio" 
          class="text-white fw-bold text-uppercase mx-4 px-4 py-2 border border-white rounded text-center"
          style="font-size: 1.2rem; text-decoration: none; transition: all 0.2s;"
          (mouseenter)="hoverLink($event)" (mouseleave)="leaveLink($event)">
          SERVICIOS
        </a>

      </div>
    </nav>

    <main class="flex-grow-1 bg-light overflow-auto">
      <router-outlet></router-outlet>
    </main>

    <footer class="text-center p-2 bg-white border-top">
      © {{ currentYear }} VetMarket
    </footer>
  </div>


</div>
